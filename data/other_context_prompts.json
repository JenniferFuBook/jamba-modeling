{
  "prompts": [
    {
      "id": "log_analysis_1k",
      "text": "Analyze the following server logs and identify the root cause of the system failure:\n\n[2024-12-26 07:00:01] INFO [api-server] Starting application on port 8080\n[2024-12-26 07:00:02] INFO [database] Initializing connection pool with min=5, max=20\n[2024-12-26 07:00:03] INFO [database] Database driver: PostgreSQL 14.5\n[2024-12-26 07:00:04] INFO [cache] Connecting to Redis cluster at redis://localhost:6379\n[2024-12-26 07:00:05] INFO [cache] Redis version 6.2.7 detected\n[2024-12-26 07:00:06] INFO [cache] Redis cluster mode: standalone\n[2024-12-26 07:00:07] INFO [api-server] Health check endpoint registered at /health\n[2024-12-26 07:00:08] INFO [api-server] Metrics endpoint registered at /metrics\n[2024-12-26 07:00:09] INFO [api-server] API documentation available at /docs\n[2024-12-26 07:00:10] INFO [scheduler] Background job scheduler started\n[2024-12-26 07:00:11] INFO [scheduler] Registered job: session_cleanup (every 30 minutes)\n[2024-12-26 07:00:12] INFO [scheduler] Registered job: analytics_aggregation (every 1 hour)\n[2024-12-26 07:00:13] INFO [scheduler] Registered job: email_queue_processor (every 5 minutes)\n[2024-12-26 07:01:23] INFO [api-server] GET /api/users/1234 - 200 OK (45ms)\n[2024-12-26 07:01:24] INFO [api-server] POST /api/orders - 201 Created (120ms)\n[2024-12-26 07:01:25] INFO [database] Query executed: SELECT * FROM users WHERE id=1234 (12ms)\n[2024-12-26 07:01:26] INFO [database] Query executed: INSERT INTO orders VALUES (...) (23ms)\n[2024-12-26 07:01:27] INFO [cache] SET order:9876 TTL=3600\n[2024-12-26 07:01:30] INFO [cache] Cache hit for key: user:1234\n[2024-12-26 07:02:15] INFO [api-server] GET /api/products - 200 OK (89ms)\n[2024-12-26 07:02:16] INFO [database] Query executed: SELECT * FROM products LIMIT 50 (78ms)\n[2024-12-26 07:02:17] INFO [cache] SET products:list TTL=300\n[2024-12-26 07:02:20] WARN [database] Connection pool 80% utilized (16/20 connections)\n[2024-12-26 07:02:45] INFO [api-server] GET /api/orders/5678 - 200 OK (52ms)\n[2024-12-26 07:02:46] INFO [cache] Cache hit for key: order:5678\n[2024-12-26 07:03:10] INFO [scheduler] Running cleanup job: old_sessions\n[2024-12-26 07:03:11] INFO [database] DELETE FROM sessions WHERE expires_at < NOW()\n[2024-12-26 07:03:12] INFO [database] Deleted 145 expired sessions\n[2024-12-26 07:04:22] INFO [api-server] POST /api/checkout - 200 OK (340ms)\n[2024-12-26 07:04:23] INFO [payment-service] Processing payment for order 9876\n[2024-12-26 07:04:24] INFO [payment-service] Contacting payment gateway: stripe.com\n[2024-12-26 07:04:25] INFO [payment-service] Payment authorized: $125.50\n[2024-12-26 07:04:26] INFO [database] UPDATE orders SET status='paid' WHERE id=9876\n[2024-12-26 07:05:01] WARN [database] Slow query detected: SELECT * FROM orders JOIN products (2500ms)\n[2024-12-26 07:05:02] WARN [database] Query plan shows missing index on orders.product_id\n[2024-12-26 07:05:30] INFO [api-server] GET /api/search?q=laptop - 200 OK (156ms)\n[2024-12-26 07:05:31] INFO [search-service] Elasticsearch query executed in 145ms\n[2024-12-26 07:06:15] ERROR [database] Connection timeout: Could not acquire connection from pool\n[2024-12-26 07:06:16] ERROR [api-server] GET /api/users/5555 - 500 Internal Server Error\n[2024-12-26 07:06:17] ERROR [database] Connection timeout: Could not acquire connection from pool\n[2024-12-26 07:06:18] ERROR [api-server] POST /api/cart - 500 Internal Server Error\n[2024-12-26 07:06:19] ERROR [database] Connection timeout: Could not acquire connection from pool\n[2024-12-26 07:06:20] WARN [database] All connections in pool are in use (20/20)\n[2024-12-26 07:06:21] ERROR [database] Connection timeout: Could not acquire connection from pool\n[2024-12-26 07:06:22] ERROR [api-server] GET /api/products/123 - 500 Internal Server Error\n[2024-12-26 07:06:23] ERROR [database] Connection timeout: Could not acquire connection from pool\n[2024-12-26 07:06:24] ERROR [api-server] DELETE /api/cart/item/456 - 500 Internal Server Error\n[2024-12-26 07:06:25] ERROR [database] Connection timeout: Could not acquire connection from pool\n[2024-12-26 07:06:26] ERROR [api-server] GET /api/products/123 - 500 Internal Server Error\n[2024-12-26 07:06:30] INFO [monitoring] CPU usage: 45%, Memory: 62%, Disk I/O: 25%\n[2024-12-26 07:06:31] INFO [monitoring] Network: 1.2MB/s in, 850KB/s out\n[2024-12-26 07:06:35] ERROR [database] Connection leak detected: 5 connections not returned to pool\n[2024-12-26 07:06:36] ERROR [database] Leaked connections from: /api/orders endpoint\n[2024-12-26 07:06:40] WARN [api-server] Request queue backing up: 50 pending requests\n[2024-12-26 07:06:41] WARN [api-server] Average request latency increased to 2500ms\n[2024-12-26 07:07:01] ERROR [database] Connection pool exhausted, attempting recovery\n[2024-12-26 07:07:02] INFO [database] Identifying long-running connections\n[2024-12-26 07:07:03] INFO [database] Found 5 connections idle for >10 minutes\n[2024-12-26 07:07:05] INFO [database] Forcibly closing idle connections\n[2024-12-26 07:07:10] INFO [database] Connection pool reset complete\n[2024-12-26 07:07:11] INFO [database] Pool now has 15 available connections\n[2024-12-26 07:07:15] INFO [api-server] GET /api/users/7777 - 200 OK (67ms)\n[2024-12-26 07:07:16] INFO [cache] Cache hit for key: user:7777\n[2024-12-26 07:07:20] INFO [api-server] Normal operation resumed\n[2024-12-26 07:08:00] INFO [scheduler] Running analytics aggregation job\n[2024-12-26 07:08:01] INFO [database] Aggregating sales data for last 24 hours\n[2024-12-26 07:08:30] WARN [database] High query load: 150 queries/sec\n[2024-12-26 07:09:00] INFO [cache] Cache hit rate: 78% (last 5 minutes)\n[2024-12-26 07:09:01] INFO [cache] Total cache size: 245MB\n[2024-12-26 07:10:00] INFO [monitoring] System health check: HEALTHY\n[2024-12-26 07:10:01] INFO [monitoring] All services responding normally\n\nWhat was the root cause of the failures between 07:06:15 and 07:06:40? Provide a concise diagnosis.",
      "max_tokens": 100,
      "category": "log_analysis",
      "estimated_input_tokens": 1000,
      "actual_input_tokens": 1013
    },
    {
      "id": "time_series_2k",
      "text": "Continue the following hourly temperature sensor data pattern for the next 6 hours. Each row represents one hour with 10 sensor readings (one reading every 6 minutes):\n\n2024-12-01 00:00, 15.2, 15.3, 15.1, 15.4, 15.2, 15.3, 15.2, 15.1, 15.3, 15.2\n2024-12-01 01:00, 15.1, 15.0, 15.2, 15.1, 15.0, 15.1, 15.2, 15.1, 15.0, 15.1\n2024-12-01 02:00, 14.9, 14.8, 15.0, 14.9, 14.8, 14.9, 15.0, 14.9, 14.8, 14.9\n2024-12-01 03:00, 14.7, 14.6, 14.8, 14.7, 14.6, 14.7, 14.8, 14.7, 14.6, 14.7\n2024-12-01 04:00, 14.5, 14.4, 14.6, 14.5, 14.4, 14.5, 14.6, 14.5, 14.4, 14.5\n2024-12-01 05:00, 14.4, 14.3, 14.5, 14.4, 14.3, 14.4, 14.5, 14.4, 14.3, 14.4\n2024-12-01 06:00, 14.5, 14.6, 14.7, 14.8, 14.9, 15.0, 15.1, 15.2, 15.3, 15.4\n2024-12-01 07:00, 15.5, 15.7, 15.9, 16.1, 16.3, 16.5, 16.7, 16.9, 17.1, 17.3\n2024-12-01 08:00, 17.5, 17.8, 18.1, 18.4, 18.7, 19.0, 19.3, 19.6, 19.9, 20.2\n2024-12-01 09:00, 20.5, 20.8, 21.1, 21.4, 21.7, 22.0, 22.3, 22.6, 22.9, 23.2\n2024-12-01 10:00, 23.5, 23.7, 23.9, 24.1, 24.3, 24.5, 24.7, 24.9, 25.1, 25.3\n2024-12-01 11:00, 25.4, 25.6, 25.8, 26.0, 26.2, 26.4, 26.6, 26.8, 27.0, 27.2\n2024-12-01 12:00, 27.3, 27.5, 27.7, 27.9, 28.1, 28.3, 28.5, 28.7, 28.9, 29.1\n2024-12-01 13:00, 29.2, 29.3, 29.4, 29.5, 29.6, 29.7, 29.8, 29.9, 30.0, 30.1\n2024-12-01 14:00, 30.1, 30.2, 30.3, 30.4, 30.5, 30.6, 30.7, 30.8, 30.9, 31.0\n2024-12-01 15:00, 30.9, 30.8, 30.7, 30.6, 30.5, 30.4, 30.3, 30.2, 30.1, 30.0\n2024-12-01 16:00, 29.8, 29.6, 29.4, 29.2, 29.0, 28.8, 28.6, 28.4, 28.2, 28.0\n2024-12-01 17:00, 27.7, 27.4, 27.1, 26.8, 26.5, 26.2, 25.9, 25.6, 25.3, 25.0\n2024-12-01 18:00, 24.6, 24.2, 23.8, 23.4, 23.0, 22.6, 22.2, 21.8, 21.4, 21.0\n2024-12-01 19:00, 20.5, 20.0, 19.5, 19.0, 18.5, 18.0, 17.5, 17.0, 16.5, 16.0\n2024-12-01 20:00, 15.8, 15.6, 15.4, 15.2, 15.0, 14.8, 14.6, 14.4, 14.2, 14.0\n2024-12-01 21:00, 13.9, 13.8, 13.7, 13.6, 13.5, 13.4, 13.3, 13.2, 13.1, 13.0\n2024-12-01 22:00, 12.9, 12.8, 12.7, 12.6, 12.5, 12.4, 12.3, 12.2, 12.1, 12.0\n2024-12-01 23:00, 11.9, 11.8, 11.7, 11.6, 11.5, 11.4, 11.3, 11.2, 11.1, 11.0\n2024-12-02 00:00, 11.0, 11.1, 11.0, 11.1, 11.0, 11.1, 11.0, 11.1, 11.0, 11.1\n2024-12-02 01:00, 10.9, 10.8, 10.9, 10.8, 10.9, 10.8, 10.9, 10.8, 10.9, 10.8\n2024-12-02 02:00, 10.7, 10.6, 10.7, 10.6, 10.7, 10.6, 10.7, 10.6, 10.7, 10.6\n2024-12-02 03:00, 10.5, 10.4, 10.5, 10.4, 10.5, 10.4, 10.5, 10.4, 10.5, 10.4\n2024-12-02 04:00, 10.3, 10.2, 10.3, 10.2, 10.3, 10.2, 10.3, 10.2, 10.3, 10.2\n2024-12-02 05:00, 10.2, 10.1, 10.2, 10.1, 10.2, 10.1, 10.2, 10.1, 10.2, 10.1\n2024-12-02 06:00, 10.3, 10.4, 10.5, 10.6, 10.7, 10.8, 10.9, 11.0, 11.1, 11.2\n2024-12-02 07:00, 11.3, 11.5, 11.7, 11.9, 12.1, 12.3, 12.5, 12.7, 12.9, 13.1\n2024-12-02 08:00, 13.3, 13.6, 13.9, 14.2, 14.5, 14.8, 15.1, 15.4, 15.7, 16.0\n2024-12-02 09:00, 16.3, 16.6, 16.9, 17.2, 17.5, 17.8, 18.1, 18.4, 18.7, 19.0\n2024-12-02 10:00, 19.3, 19.5, 19.7, 19.9, 20.1, 20.3, 20.5, 20.7, 20.9, 21.1\n2024-12-02 11:00, 21.2, 21.4, 21.6, 21.8, 22.0, 22.2, 22.4, 22.6, 22.8, 23.0\n2024-12-02 12:00, 23.1, 23.3, 23.5, 23.7, 23.9, 24.1, 24.3, 24.5, 24.7, 24.9\n2024-12-02 13:00, 25.0, 25.1, 25.2, 25.3, 25.4, 25.5, 25.6, 25.7, 25.8, 25.9\n2024-12-02 14:00, 25.9, 26.0, 26.1, 26.2, 26.3, 26.4, 26.5, 26.6, 26.7, 26.8\n2024-12-02 15:00, 26.7, 26.6, 26.5, 26.4, 26.3, 26.2, 26.1, 26.0, 25.9, 25.8\n2024-12-02 16:00, 25.6, 25.4, 25.2, 25.0, 24.8, 24.6, 24.4, 24.2, 24.0, 23.8\n2024-12-02 17:00, 23.5, 23.2, 22.9, 22.6, 22.3, 22.0, 21.7, 21.4, 21.1, 20.8\n2024-12-02 18:00, 20.4, 20.0, 19.6, 19.2, 18.8, 18.4, 18.0, 17.6, 17.2, 16.8\n2024-12-02 19:00, 16.3, 15.8, 15.3, 14.8, 14.3, 13.8, 13.3, 12.8, 12.3, 11.8\n2024-12-02 20:00, 11.6, 11.4, 11.2, 11.0, 10.8, 10.6, 10.4, 10.2, 10.0, 9.8\n2024-12-02 21:00, 9.7, 9.6, 9.5, 9.4, 9.3, 9.2, 9.1, 9.0, 8.9, 8.8\n2024-12-02 22:00, 8.7, 8.6, 8.5, 8.4, 8.3, 8.2, 8.1, 8.0, 7.9, 7.8\n2024-12-02 23:00, 7.7, 7.6, 7.5, 7.4, 7.3, 7.2, 7.1, 7.0, 6.9, 6.8\n2024-12-03 00:00, 6.8, 6.9, 6.8, 6.9, 6.8, 6.9, 6.8, 6.9, 6.8, 6.9\n2024-12-03 01:00, 6.7, 6.6, 6.7, 6.6, 6.7, 6.6, 6.7, 6.6, 6.7, 6.6\n2024-12-03 02:00, 6.5, 6.4, 6.5, 6.4, 6.5, 6.4, 6.5, 6.4, 6.5, 6.4\n2024-12-03 03:00, 6.3, 6.2, 6.3, 6.2, 6.3, 6.2, 6.3, 6.2, 6.3, 6.2\n2024-12-03 04:00, 6.1, 6.0, 6.1, 6.0, 6.1, 6.0, 6.1, 6.0, 6.1, 6.0\n2024-12-03 05:00, 6.0, 5.9, 6.0, 5.9, 6.0, 5.9, 6.0, 5.9, 6.0, 5.9\n2024-12-03 06:00, 6.1, 6.2, 6.3, 6.4, 6.5, 6.6, 6.7, 6.8, 6.9, 7.0\n2024-12-03 07:00, 7.1, 7.3, 7.5, 7.7, 7.9, 8.1, 8.3, 8.5, 8.7, 8.9\n2024-12-03 08:00, 9.1, 9.4, 9.7, 10.0, 10.3, 10.6, 10.9, 11.2, 11.5, 11.8\n2024-12-03 09:00, 12.1, 12.4, 12.7, 13.0, 13.3, 13.6, 13.9, 14.2, 14.5, 14.8\n2024-12-03 10:00, 15.1, 15.3, 15.5, 15.7, 15.9, 16.1, 16.3, 16.5, 16.7, 16.9\n2024-12-03 11:00, 17.0, 17.2, 17.4, 17.6, 17.8, 18.0, 18.2, 18.4, 18.6, 18.8\n2024-12-03 12:00, 18.9, 19.1, 19.3, 19.5, 19.7, 19.9, 20.1, 20.3, 20.5, 20.7\n2024-12-03 13:00, 20.8, 20.9, 21.0, 21.1, 21.2, 21.3, 21.4, 21.5, 21.6, 21.7\n\nBased on the pattern, predict the next 6 hours (2024-12-03 14:00 through 19:00):",
      "max_tokens": 150,
      "category": "pattern_continuation",
      "estimated_input_tokens": 2000,
      "actual_input_tokens": 2035
    },
    {
      "id": "code_completion_4k",
      "text": "Complete the missing function implementation based on the existing codebase patterns:\n\n```python\n# database.py - Database connection and query execution layer\nclass DatabaseConnection:\n    \"\"\"Manages database connections and provides query execution interface.\"\"\"\n    \n    def __init__(self, host, port, database, user, password):\n        self.host = host\n        self.port = port\n        self.database = database\n        self.user = user\n        self.password = password\n        self.connection = None\n        self._transaction_depth = 0\n    \n    def connect(self):\n        \"\"\"Establish connection to PostgreSQL database.\"\"\"\n        import psycopg2\n        self.connection = psycopg2.connect(\n            host=self.host,\n            port=self.port,\n            database=self.database,\n            user=self.user,\n            password=self.password\n        )\n        return self.connection\n    \n    def execute_query(self, query, params=None):\n        \"\"\"Execute SELECT query and return all results.\"\"\"\n        cursor = self.connection.cursor()\n        cursor.execute(query, params or ())\n        return cursor.fetchall()\n    \n    def execute_update(self, query, params=None):\n        \"\"\"Execute INSERT/UPDATE/DELETE query and return affected row count.\"\"\"\n        cursor = self.connection.cursor()\n        cursor.execute(query, params or ())\n        self.connection.commit()\n        return cursor.rowcount\n    \n    def begin_transaction(self):\n        \"\"\"Start a new transaction.\"\"\"\n        self._transaction_depth += 1\n    \n    def commit_transaction(self):\n        \"\"\"Commit the current transaction.\"\"\"\n        if self._transaction_depth > 0:\n            self.connection.commit()\n            self._transaction_depth = 0\n    \n    def rollback_transaction(self):\n        \"\"\"Roll back the current transaction.\"\"\"\n        if self._transaction_depth > 0:\n            self.connection.rollback()\n            self._transaction_depth = 0\n\n# models.py - Base model and ORM implementation\nclass BaseModel:\n    \"\"\"Base class for all database models providing common CRUD operations.\"\"\"\n    table_name = None\n    primary_key = 'id'\n    \n    def __init__(self, **kwargs):\n        \"\"\"Initialize model with given attributes.\"\"\"\n        for key, value in kwargs.items():\n            setattr(self, key, value)\n    \n    @classmethod\n    def find_by_id(cls, db, id):\n        \"\"\"Find a single record by its primary key.\"\"\"\n        query = f\"SELECT * FROM {cls.table_name} WHERE {cls.primary_key} = %s\"\n        result = db.execute_query(query, (id,))\n        if result:\n            columns = [desc[0] for desc in db.connection.cursor().description]\n            return cls(**dict(zip(columns, result[0])))\n        return None\n    \n    @classmethod\n    def find_all(cls, db, limit=100, offset=0, order_by=None):\n        \"\"\"Find all records with optional pagination and ordering.\"\"\"\n        order_clause = f\" ORDER BY {order_by}\" if order_by else \"\"\n        query = f\"SELECT * FROM {cls.table_name}{order_clause} LIMIT %s OFFSET %s\"\n        results = db.execute_query(query, (limit, offset))\n        columns = [desc[0] for desc in db.connection.cursor().description]\n        return [cls(**dict(zip(columns, row))) for row in results]\n    \n    @classmethod\n    def count(cls, db, where_clause=None, params=None):\n        \"\"\"Count total records matching optional WHERE clause.\"\"\"\n        where = f\" WHERE {where_clause}\" if where_clause else \"\"\n        query = f\"SELECT COUNT(*) FROM {cls.table_name}{where}\"\n        result = db.execute_query(query, params or ())\n        return result[0][0] if result else 0\n    \n    def save(self, db):\n        \"\"\"Insert new record or update existing one.\"\"\"\n        columns = [k for k in self.__dict__.keys() if k != self.primary_key]\n        values = [self.__dict__[k] for k in columns]\n        placeholders = ', '.join(['%s'] * len(columns))\n        column_names = ', '.join(columns)\n        \n        if hasattr(self, self.primary_key) and getattr(self, self.primary_key):\n            # Update existing record\n            set_clause = ', '.join([f\"{col} = %s\" for col in columns])\n            query = f\"UPDATE {self.table_name} SET {set_clause} WHERE {self.primary_key} = %s\"\n            db.execute_update(query, values + [getattr(self, self.primary_key)])\n        else:\n            # Insert new record\n            query = f\"INSERT INTO {self.table_name} ({column_names}) VALUES ({placeholders}) RETURNING {self.primary_key}\"\n            result = db.execute_query(query, values)\n            setattr(self, self.primary_key, result[0][0])\n        return self\n    \n    def delete(self, db):\n        \"\"\"Delete this record from database.\"\"\"\n        if hasattr(self, self.primary_key):\n            query = f\"DELETE FROM {self.table_name} WHERE {self.primary_key} = %s\"\n            db.execute_update(query, (getattr(self, self.primary_key),))\n\nclass User(BaseModel):\n    \"\"\"User model representing registered users.\"\"\"\n    table_name = 'users'\n    \n    def get_full_name(self):\n        \"\"\"Return user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def get_email_domain(self):\n        \"\"\"Extract domain from email address.\"\"\"\n        return self.email.split('@')[1] if '@' in self.email else None\n    \n    def get_orders(self, db, status=None):\n        \"\"\"Get all orders for this user, optionally filtered by status.\"\"\"\n        if status:\n            return Order.find_by_user_id_and_status(db, self.id, status)\n        return Order.find_by_user_id(db, self.id)\n    \n    def get_active_orders(self, db):\n        \"\"\"Get all active orders for this user.\"\"\"\n        query = \"SELECT * FROM orders WHERE user_id = %s AND status = 'active'\"\n        results = db.execute_query(query, (self.id,))\n        columns = ['id', 'user_id', 'total', 'status', 'created_at', 'updated_at']\n        return [Order(**dict(zip(columns, row))) for row in results]\n    \n    def get_total_spent(self, db):\n        \"\"\"Calculate total amount spent by this user across all completed orders.\"\"\"\n        query = \"SELECT SUM(total) FROM orders WHERE user_id = %s AND status = 'completed'\"\n        result = db.execute_query(query, (self.id,))\n        return result[0][0] or 0\n\nclass Order(BaseModel):\n    \"\"\"Order model representing customer orders.\"\"\"\n    table_name = 'orders'\n    \n    @classmethod\n    def find_by_user_id(cls, db, user_id):\n        \"\"\"Find all orders for a given user.\"\"\"\n        query = \"SELECT * FROM orders WHERE user_id = %s ORDER BY created_at DESC\"\n        results = db.execute_query(query, (user_id,))\n        columns = ['id', 'user_id', 'total', 'status', 'created_at', 'updated_at']\n        return [cls(**dict(zip(columns, row))) for row in results]\n    \n    @classmethod\n    def find_by_user_id_and_status(cls, db, user_id, status):\n        \"\"\"Find all orders for a user with specific status.\"\"\"\n        query = \"SELECT * FROM orders WHERE user_id = %s AND status = %s ORDER BY created_at DESC\"\n        results = db.execute_query(query, (user_id, status))\n        columns = ['id', 'user_id', 'total', 'status', 'created_at', 'updated_at']\n        return [cls(**dict(zip(columns, row))) for row in results]\n    \n    @classmethod\n    def find_recent(cls, db, days=7, limit=50):\n        \"\"\"Find recent orders within specified number of days.\"\"\"\n        query = \"SELECT * FROM orders WHERE created_at >= NOW() - INTERVAL '%s days' ORDER BY created_at DESC LIMIT %s\"\n        results = db.execute_query(query, (days, limit))\n        columns = ['id', 'user_id', 'total', 'status', 'created_at', 'updated_at']\n        return [cls(**dict(zip(columns, row))) for row in results]\n    \n    def get_items(self, db):\n        \"\"\"Get all items in this order.\"\"\"\n        return OrderItem.find_by_order_id(db, self.id)\n    \n    def get_user(self, db):\n        \"\"\"Get the user who placed this order.\"\"\"\n        return User.find_by_id(db, self.user_id)\n    \n    def calculate_total(self, db):\n        \"\"\"Calculate total price from all order items.\"\"\"\n        items = self.get_items(db)\n        return sum(item.price * item.quantity for item in items)\n    \n    def mark_completed(self, db):\n        \"\"\"Mark this order as completed.\"\"\"\n        self.status = 'completed'\n        self.save(db)\n    \n    def mark_cancelled(self, db, reason=None):\n        \"\"\"Mark this order as cancelled.\"\"\"\n        self.status = 'cancelled'\n        if reason:\n            self.cancellation_reason = reason\n        self.save(db)\n\nclass OrderItem(BaseModel):\n    \"\"\"OrderItem model representing individual items within orders.\"\"\"\n    table_name = 'order_items'\n    \n    @classmethod\n    def find_by_order_id(cls, db, order_id):\n        \"\"\"Find all items in a specific order.\"\"\"\n        query = \"SELECT * FROM order_items WHERE order_id = %s\"\n        results = db.execute_query(query, (order_id,))\n        columns = ['id', 'order_id', 'product_id', 'quantity', 'price', 'created_at']\n        return [cls(**dict(zip(columns, row))) for row in results]\n    \n    @classmethod\n    def find_by_product_id(cls, db, product_id, limit=100):\n        \"\"\"Find all order items containing a specific product.\"\"\"\n        query = \"SELECT * FROM order_items WHERE product_id = %s ORDER BY created_at DESC LIMIT %s\"\n        results = db.execute_query(query, (product_id, limit))\n        columns = ['id', 'order_id', 'product_id', 'quantity', 'price', 'created_at']\n        return [cls(**dict(zip(columns, row))) for row in results]\n    \n    def get_product(self, db):\n        \"\"\"Get the product associated with this order item.\"\"\"\n        return Product.find_by_id(db, self.product_id)\n    \n    def get_order(self, db):\n        \"\"\"Get the order this item belongs to.\"\"\"\n        return Order.find_by_id(db, self.order_id)\n    \n    def get_subtotal(self):\n        \"\"\"Calculate subtotal for this line item.\"\"\"\n        return self.price * self.quantity\n\nclass Product(BaseModel):\n    \"\"\"Product model representing items available for purchase.\"\"\"\n    table_name = 'products'\n    \n    @classmethod\n    def find_by_category(cls, db, category_id, limit=100, offset=0):\n        \"\"\"Find all products in a specific category.\"\"\"\n        query = \"SELECT * FROM products WHERE category_id = %s ORDER BY name LIMIT %s OFFSET %s\"\n        results = db.execute_query(query, (category_id, limit, offset))\n        columns = ['id', 'name', 'description', 'price', 'category_id', 'stock', 'created_at']\n        return [cls(**dict(zip(columns, row))) for row in results]\n    \n    @classmethod\n    def search_by_name(cls, db, search_term, limit=50):\n        \"\"\"Search products by name using case-insensitive pattern matching.\"\"\"\n        query = \"SELECT * FROM products WHERE name ILIKE %s ORDER BY name LIMIT %s\"\n        results = db.execute_query(query, (f'%{search_term}%', limit))\n        columns = ['id', 'name', 'description', 'price', 'category_id', 'stock', 'created_at']\n        return [cls(**dict(zip(columns, row))) for row in results]\n    \n    @classmethod\n    def find_low_stock(cls, db, threshold=10):\n        \"\"\"Find products with stock below threshold.\"\"\"\n        query = \"SELECT * FROM products WHERE stock < %s ORDER BY stock ASC\"\n        results = db.execute_query(query, (threshold,))\n        columns = ['id', 'name', 'description', 'price', 'category_id', 'stock', 'created_at']\n        return [cls(**dict(zip(columns, row))) for row in results]\n    \n    @classmethod\n    def find_in_price_range(cls, db, min_price, max_price, limit=100):\n        \"\"\"Find products within a price range.\"\"\"\n        query = \"SELECT * FROM products WHERE price BETWEEN %s AND %s ORDER BY price LIMIT %s\"\n        results = db.execute_query(query, (min_price, max_price, limit))\n        columns = ['id', 'name', 'description', 'price', 'category_id', 'stock', 'created_at']\n        return [cls(**dict(zip(columns, row))) for row in results]\n    \n    def is_in_stock(self):\n        \"\"\"Check if product is currently in stock.\"\"\"\n        return self.stock > 0\n    \n    def decrease_stock(self, db, quantity):\n        \"\"\"Decrease stock by specified quantity if sufficient stock available.\"\"\"\n        if self.stock >= quantity:\n            self.stock -= quantity\n            self.save(db)\n            return True\n        return False\n    \n    def increase_stock(self, db, quantity):\n        \"\"\"Increase stock by specified quantity.\"\"\"\n        self.stock += quantity\n        self.save(db)\n    \n    def get_category(self, db):\n        \"\"\"Get the category this product belongs to.\"\"\"\n        return Category.find_by_id(db, self.category_id)\n\n# TODO: Implement the Category model following the same patterns as above\n# The categories table has columns: id, name, description, parent_id, created_at, updated_at\n# Implement the following methods:\n# - find_by_parent_id(cls, db, parent_id) - returns all categories with given parent\n# - find_root_categories(cls, db) - returns all top-level categories (parent_id IS NULL)\n# - get_products(self, db, limit=100) - returns all products in this category\n# - get_subcategories(self, db) - returns all child categories\n# - get_parent(self, db) - returns parent category or None if root\n# - get_product_count(self, db) - returns count of products in this category\n# - is_root(self) - returns True if this is a root category\n# - get_full_path(self, db) - returns list of categories from root to this one\n\nclass Category(BaseModel):\n    \"\"\"Category model representing product categories in a hierarchical structure.\"\"\"\n    table_name = 'categories'\n    \n    # COMPLETE THIS IMPLEMENTATION FOLLOWING THE ESTABLISHED PATTERNS\n```\n\nComplete the Category class implementation following the established patterns. Include all the specified methods with proper docstrings and implementation:",
      "max_tokens": 300,
      "category": "code_completion",
      "estimated_input_tokens": 4000,
      "actual_input_tokens": 3992
    },
    {
      "id": "json_stream_6k",
      "text": "Process the following JSON event stream and extract all ERROR events with their timestamps and error codes. The stream contains logs from a microservices architecture with multiple services:\n\n{\"timestamp\": \"2024-12-26T08:00:01.234Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Server started on port 8080\", \"version\": \"1.2.3\"}\n{\"timestamp\": \"2024-12-26T08:00:02.156Z\", \"level\": \"INFO\", \"service\": \"database\", \"message\": \"Connection pool established\", \"pool_size\": 20}\n{\"timestamp\": \"2024-12-26T08:00:02.789Z\", \"level\": \"INFO\", \"service\": \"database\", \"message\": \"Database migrations completed\", \"migrations_applied\": 5}\n{\"timestamp\": \"2024-12-26T08:00:05.123Z\", \"level\": \"INFO\", \"service\": \"cache\", \"message\": \"Redis cluster connected\", \"nodes\": 3}\n{\"timestamp\": \"2024-12-26T08:00:06.456Z\", \"level\": \"INFO\", \"service\": \"cache\", \"message\": \"Cache warming started\"}\n{\"timestamp\": \"2024-12-26T08:00:08.234Z\", \"level\": \"INFO\", \"service\": \"cache\", \"message\": \"Cache warming completed\", \"keys_loaded\": 1500}\n{\"timestamp\": \"2024-12-26T08:01:15.567Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Request received\", \"endpoint\": \"/api/v1/users\", \"method\": \"GET\"}\n{\"timestamp\": \"2024-12-26T08:01:16.123Z\", \"level\": \"DEBUG\", \"service\": \"user-service\", \"message\": \"Fetching user data from database\"}\n{\"timestamp\": \"2024-12-26T08:01:16.234Z\", \"level\": \"DEBUG\", \"service\": \"database\", \"message\": \"Executing query\", \"query\": \"SELECT * FROM users LIMIT 50\"}\n{\"timestamp\": \"2024-12-26T08:01:16.456Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Response sent\", \"status\": 200, \"duration_ms\": 889}\n{\"timestamp\": \"2024-12-26T08:02:22.789Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Request received\", \"endpoint\": \"/api/v1/products\", \"method\": \"GET\"}\n{\"timestamp\": \"2024-12-26T08:02:23.123Z\", \"level\": \"DEBUG\", \"service\": \"product-service\", \"message\": \"Checking cache for product list\"}\n{\"timestamp\": \"2024-12-26T08:02:23.234Z\", \"level\": \"DEBUG\", \"service\": \"cache\", \"message\": \"Cache lookup\", \"key\": \"products:list:page:1\"}\n{\"timestamp\": \"2024-12-26T08:02:23.345Z\", \"level\": \"INFO\", \"service\": \"cache\", \"message\": \"Cache hit\", \"key\": \"products:list:page:1\"}\n{\"timestamp\": \"2024-12-26T08:02:23.456Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Response sent\", \"status\": 200, \"duration_ms\": 667}\n{\"timestamp\": \"2024-12-26T08:03:11.567Z\", \"level\": \"WARN\", \"service\": \"database\", \"message\": \"Slow query detected\", \"duration_ms\": 1500, \"query\": \"SELECT * FROM orders JOIN products\"}\n{\"timestamp\": \"2024-12-26T08:03:12.123Z\", \"level\": \"INFO\", \"service\": \"monitoring\", \"message\": \"Performance alert triggered\", \"metric\": \"query_latency\", \"threshold\": 1000}\n{\"timestamp\": \"2024-12-26T08:03:45.234Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Request received\", \"endpoint\": \"/api/v1/orders\", \"method\": \"GET\"}\n{\"timestamp\": \"2024-12-26T08:03:46.345Z\", \"level\": \"DEBUG\", \"service\": \"order-service\", \"message\": \"Fetching orders from database\"}\n{\"timestamp\": \"2024-12-26T08:03:46.456Z\", \"level\": \"DEBUG\", \"service\": \"database\", \"message\": \"Executing query\", \"query\": \"SELECT * FROM orders WHERE user_id = 123\"}\n{\"timestamp\": \"2024-12-26T08:03:47.567Z\", \"level\": \"ERROR\", \"service\": \"database\", \"message\": \"Query timeout exceeded\", \"error_code\": \"DB_TIMEOUT\", \"query_id\": \"q_1234\", \"duration_ms\": 30000}\n{\"timestamp\": \"2024-12-26T08:03:48.123Z\", \"level\": \"ERROR\", \"service\": \"order-service\", \"message\": \"Failed to fetch orders\", \"error_code\": \"SERVICE_ERROR\", \"cause\": \"database_timeout\"}\n{\"timestamp\": \"2024-12-26T08:03:48.234Z\", \"level\": \"ERROR\", \"service\": \"api-gateway\", \"message\": \"Request failed\", \"error_code\": \"INTERNAL_ERROR\", \"status\": 500, \"endpoint\": \"/api/v1/orders\"}\n{\"timestamp\": \"2024-12-26T08:04:12.345Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Request received\", \"endpoint\": \"/api/v1/checkout\", \"method\": \"POST\"}\n{\"timestamp\": \"2024-12-26T08:04:13.456Z\", \"level\": \"INFO\", \"service\": \"checkout-service\", \"message\": \"Processing checkout request\", \"cart_id\": \"cart_5678\"}\n{\"timestamp\": \"2024-12-26T08:04:13.567Z\", \"level\": \"INFO\", \"service\": \"payment-gateway\", \"message\": \"Payment processing initiated\", \"amount\": 125.50, \"currency\": \"USD\"}\n{\"timestamp\": \"2024-12-26T08:04:14.123Z\", \"level\": \"DEBUG\", \"service\": \"payment-gateway\", \"message\": \"Contacting payment processor\", \"processor\": \"stripe\"}\n{\"timestamp\": \"2024-12-26T08:04:15.234Z\", \"level\": \"ERROR\", \"service\": \"payment-gateway\", \"message\": \"Payment declined by processor\", \"error_code\": \"PAYMENT_DECLINED\", \"reason\": \"insufficient_funds\", \"card_last4\": \"1234\"}\n{\"timestamp\": \"2024-12-26T08:04:15.345Z\", \"level\": \"WARN\", \"service\": \"checkout-service\", \"message\": \"Payment failed, rolling back cart\", \"cart_id\": \"cart_5678\"}\n{\"timestamp\": \"2024-12-26T08:04:16.456Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Response sent\", \"status\": 402, \"duration_ms\": 4111}\n{\"timestamp\": \"2024-12-26T08:05:20.567Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Request received\", \"endpoint\": \"/api/v1/search\", \"method\": \"GET\", \"query\": \"laptop\"}\n{\"timestamp\": \"2024-12-26T08:05:21.123Z\", \"level\": \"DEBUG\", \"service\": \"search-service\", \"message\": \"Executing search query\", \"term\": \"laptop\"}\n{\"timestamp\": \"2024-12-26T08:05:21.234Z\", \"level\": \"DEBUG\", \"service\": \"elasticsearch\", \"message\": \"Search query executed\", \"index\": \"products\", \"hits\": 45}\n{\"timestamp\": \"2024-12-26T08:05:22.345Z\", \"level\": \"INFO\", \"service\": \"search-service\", \"message\": \"Search results retrieved\", \"count\": 45, \"duration_ms\": 1111}\n{\"timestamp\": \"2024-12-26T08:05:23.456Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Response sent\", \"status\": 200, \"duration_ms\": 2889}\n{\"timestamp\": \"2024-12-26T08:06:30.567Z\", \"level\": \"WARN\", \"service\": \"api-gateway\", \"message\": \"High request rate detected\", \"rate_per_sec\": 150, \"threshold\": 100}\n{\"timestamp\": \"2024-12-26T08:06:31.123Z\", \"level\": \"INFO\", \"service\": \"rate-limiter\", \"message\": \"Rate limiting activated\", \"window_sec\": 60}\n{\"timestamp\": \"2024-12-26T08:06:45.234Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Request received\", \"endpoint\": \"/api/v1/profile\", \"method\": \"GET\"}\n{\"timestamp\": \"2024-12-26T08:06:45.345Z\", \"level\": \"DEBUG\", \"service\": \"auth-service\", \"message\": \"Validating JWT token\"}\n{\"timestamp\": \"2024-12-26T08:06:45.456Z\", \"level\": \"ERROR\", \"service\": \"auth-service\", \"message\": \"Token validation failed\", \"error_code\": \"INVALID_TOKEN\", \"reason\": \"expired\", \"token_age_hours\": 25}\n{\"timestamp\": \"2024-12-26T08:06:46.567Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Response sent\", \"status\": 401, \"duration_ms\": 1333}\n{\"timestamp\": \"2024-12-26T08:07:10.123Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Request received\", \"endpoint\": \"/api/v1/profile\", \"method\": \"GET\"}\n{\"timestamp\": \"2024-12-26T08:07:11.234Z\", \"level\": \"DEBUG\", \"service\": \"profile-service\", \"message\": \"Fetching user profile\"}\n{\"timestamp\": \"2024-12-26T08:07:11.345Z\", \"level\": \"DEBUG\", \"service\": \"database\", \"message\": \"Executing query\", \"query\": \"SELECT * FROM profiles WHERE user_id = 789\"}\n{\"timestamp\": \"2024-12-26T08:07:12.456Z\", \"level\": \"ERROR\", \"service\": \"database\", \"message\": \"Database connection lost\", \"error_code\": \"DB_CONN_LOST\", \"last_active\": \"2024-12-26T08:07:10Z\"}\n{\"timestamp\": \"2024-12-26T08:07:12.567Z\", \"level\": \"WARN\", \"service\": \"database\", \"message\": \"Attempting automatic reconnection\", \"attempt\": 1, \"max_attempts\": 3}\n{\"timestamp\": \"2024-12-26T08:07:13.123Z\", \"level\": \"ERROR\", \"service\": \"profile-service\", \"message\": \"Database operation failed\", \"error_code\": \"DB_ERROR\", \"operation\": \"SELECT\"}\n{\"timestamp\": \"2024-12-26T08:07:13.234Z\", \"level\": \"ERROR\", \"service\": \"api-gateway\", \"message\": \"Service unavailable\", \"error_code\": \"SERVICE_UNAVAILABLE\", \"status\": 503, \"service\": \"profile-service\"}\n{\"timestamp\": \"2024-12-26T08:07:20.345Z\", \"level\": \"INFO\", \"service\": \"database\", \"message\": \"Reconnection attempt successful\", \"attempt\": 2}\n{\"timestamp\": \"2024-12-26T08:07:22.456Z\", \"level\": \"INFO\", \"service\": \"database\", \"message\": \"Connection restored\", \"downtime_sec\": 10}\n{\"timestamp\": \"2024-12-26T08:08:00.567Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Request received\", \"endpoint\": \"/api/v1/cart\", \"method\": \"GET\"}\n{\"timestamp\": \"2024-12-26T08:08:01.123Z\", \"level\": \"DEBUG\", \"service\": \"cart-service\", \"message\": \"Fetching cart data\"}\n{\"timestamp\": \"2024-12-26T08:08:01.234Z\", \"level\": \"DEBUG\", \"service\": \"cache\", \"message\": \"Cache lookup\", \"key\": \"cart:user:5678\"}\n{\"timestamp\": \"2024-12-26T08:08:02.345Z\", \"level\": \"INFO\", \"service\": \"cache\", \"message\": \"Cache miss\", \"key\": \"cart:user:5678\"}\n{\"timestamp\": \"2024-12-26T08:08:02.456Z\", \"level\": \"DEBUG\", \"service\": \"database\", \"message\": \"Executing query\", \"query\": \"SELECT * FROM carts WHERE user_id = 5678\"}\n{\"timestamp\": \"2024-12-26T08:08:03.567Z\", \"level\": \"DEBUG\", \"service\": \"cache\", \"message\": \"Storing in cache\", \"key\": \"cart:user:5678\", \"ttl_sec\": 300}\n{\"timestamp\": \"2024-12-26T08:08:04.123Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Response sent\", \"status\": 200, \"duration_ms\": 3556}\n{\"timestamp\": \"2024-12-26T08:09:15.234Z\", \"level\": \"INFO\", \"service\": \"scheduler\", \"message\": \"Scheduled job started\", \"job\": \"cleanup_sessions\"}\n{\"timestamp\": \"2024-12-26T08:09:16.345Z\", \"level\": \"DEBUG\", \"service\": \"scheduler\", \"message\": \"Executing cleanup query\", \"table\": \"sessions\"}\n{\"timestamp\": \"2024-12-26T08:09:18.456Z\", \"level\": \"INFO\", \"service\": \"scheduler\", \"message\": \"Cleanup completed\", \"records_deleted\": 234, \"duration_ms\": 3111}\n{\"timestamp\": \"2024-12-26T08:09:20.567Z\", \"level\": \"INFO\", \"service\": \"scheduler\", \"message\": \"Scheduled job completed\", \"job\": \"cleanup_sessions\"}\n{\"timestamp\": \"2024-12-26T08:10:00.123Z\", \"level\": \"ERROR\", \"service\": \"email-service\", \"message\": \"SMTP server connection failed\", \"error_code\": \"SMTP_ERROR\", \"server\": \"smtp.example.com\", \"port\": 587}\n{\"timestamp\": \"2024-12-26T08:10:01.234Z\", \"level\": \"WARN\", \"service\": \"email-service\", \"message\": \"Email queue backing up\", \"queued_emails\": 150}\n{\"timestamp\": \"2024-12-26T08:10:30.345Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Request received\", \"endpoint\": \"/api/v1/analytics\", \"method\": \"GET\"}\n{\"timestamp\": \"2024-12-26T08:10:31.456Z\", \"level\": \"DEBUG\", \"service\": \"analytics-service\", \"message\": \"Aggregating analytics data\"}\n{\"timestamp\": \"2024-12-26T08:10:32.567Z\", \"level\": \"DEBUG\", \"service\": \"analytics-service\", \"message\": \"Querying time-series database\", \"range\": \"24h\"}\n{\"timestamp\": \"2024-12-26T08:10:35.123Z\", \"level\": \"INFO\", \"service\": \"analytics-service\", \"message\": \"Analytics report generated\", \"data_points\": 1440}\n{\"timestamp\": \"2024-12-26T08:10:36.234Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Response sent\", \"status\": 200, \"duration_ms\": 5889}\n{\"timestamp\": \"2024-12-26T08:11:22.345Z\", \"level\": \"WARN\", \"service\": \"cache\", \"message\": \"High memory usage detected\", \"memory_pct\": 85, \"threshold\": 80}\n{\"timestamp\": \"2024-12-26T08:11:23.456Z\", \"level\": \"INFO\", \"service\": \"cache\", \"message\": \"Eviction policy activated\", \"policy\": \"LRU\"}\n{\"timestamp\": \"2024-12-26T08:12:00.567Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Request received\", \"endpoint\": \"/api/v1/webhook\", \"method\": \"POST\"}\n{\"timestamp\": \"2024-12-26T08:12:01.123Z\", \"level\": \"DEBUG\", \"service\": \"webhook-service\", \"message\": \"Validating webhook signature\"}\n{\"timestamp\": \"2024-12-26T08:12:01.234Z\", \"level\": \"ERROR\", \"service\": \"webhook-service\", \"message\": \"Invalid webhook signature\", \"error_code\": \"WEBHOOK_AUTH_FAILED\", \"source_ip\": \"203.0.113.42\"}\n{\"timestamp\": \"2024-12-26T08:12:02.345Z\", \"level\": \"WARN\", \"service\": \"security\", \"message\": \"Potential security threat detected\", \"type\": \"invalid_signature\", \"source_ip\": \"203.0.113.42\"}\n{\"timestamp\": \"2024-12-26T08:12:02.456Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Response sent\", \"status\": 403, \"duration_ms\": 1889}\n{\"timestamp\": \"2024-12-26T08:13:10.567Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Request received\", \"endpoint\": \"/api/v1/notifications\", \"method\": \"GET\"}\n{\"timestamp\": \"2024-12-26T08:13:11.123Z\", \"level\": \"DEBUG\", \"service\": \"notification-service\", \"message\": \"Fetching user notification preferences\"}\n{\"timestamp\": \"2024-12-26T08:13:11.234Z\", \"level\": \"DEBUG\", \"service\": \"notification-service\", \"message\": \"Retrieving unread notifications\"}\n{\"timestamp\": \"2024-12-26T08:13:12.345Z\", \"level\": \"ERROR\", \"service\": \"notification-service\", \"message\": \"Push notification service unreachable\", \"error_code\": \"PUSH_SERVICE_DOWN\", \"service\": \"fcm\", \"timeout_ms\": 5000}\n{\"timestamp\": \"2024-12-26T08:13:13.456Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Response sent\", \"status\": 200, \"duration_ms\": 2889, \"degraded\": true}\n{\"timestamp\": \"2024-12-26T08:14:00.567Z\", \"level\": \"INFO\", \"service\": \"health-check\", \"message\": \"System health check initiated\"}\n{\"timestamp\": \"2024-12-26T08:14:01.123Z\", \"level\": \"DEBUG\", \"service\": \"health-check\", \"message\": \"Checking service dependencies\"}\n{\"timestamp\": \"2024-12-26T08:14:02.234Z\", \"level\": \"INFO\", \"service\": \"health-check\", \"message\": \"Health check completed\", \"status\": \"degraded\", \"failing_services\": [\"email-service\", \"notification-service\"]}\n{\"timestamp\": \"2024-12-26T08:15:00.345Z\", \"level\": \"INFO\", \"service\": \"metrics-collector\", \"message\": \"Metrics snapshot created\", \"metrics_count\": 1250}\n{\"timestamp\": \"2024-12-26T08:15:30.456Z\", \"level\": \"ERROR\", \"service\": \"storage-service\", \"message\": \"Disk space critical\", \"error_code\": \"DISK_FULL\", \"available_gb\": 2.1, \"threshold_gb\": 5.0, \"usage_pct\": 96}\n{\"timestamp\": \"2024-12-26T08:15:31.567Z\", \"level\": \"WARN\", \"service\": \"storage-service\", \"message\": \"Initiating emergency cleanup\"}\n{\"timestamp\": \"2024-12-26T08:16:00.123Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Request received\", \"endpoint\": \"/api/v1/upload\", \"method\": \"POST\"}\n{\"timestamp\": \"2024-12-26T08:16:01.234Z\", \"level\": \"ERROR\", \"service\": \"storage-service\", \"message\": \"File upload rejected\", \"error_code\": \"UPLOAD_FAILED\", \"reason\": \"insufficient_storage\", \"file_size_mb\": 15.3}\n{\"timestamp\": \"2024-12-26T08:16:02.345Z\", \"level\": \"INFO\", \"service\": \"api-gateway\", \"message\": \"Response sent\", \"status\": 507, \"duration_ms\": 2222}\n\nList all ERROR level events with their timestamps and error codes in chronological order:",
      "max_tokens": 200,
      "category": "stream_processing",
      "estimated_input_tokens": 6000,
      "actual_input_tokens": 6118
    },
    {
      "id": "pattern_extraction_8k",
      "text": "Extract all SQL injection attempts from the following web server access logs. Provide the timestamp, source IP, endpoint, and the injection payload for each attempt:\n\n2024-12-26 10:00:15 GET /products?id=123 HTTP/1.1 - 200 OK - 0.045s - 192.168.1.100 - User-Agent: Mozilla/5.0\n2024-12-26 10:00:23 POST /api/login HTTP/1.1 - 200 OK - 0.234s - 192.168.1.101 - User-Agent: Chrome/120.0\n2024-12-26 10:00:35 GET /search?q=laptop HTTP/1.1 - 200 OK - 0.089s - 192.168.1.102 - User-Agent: Firefox/121.0\n2024-12-26 10:00:42 GET /api/users?id=1 OR 1=1 HTTP/1.1 - 400 Bad Request - 0.012s - 45.123.45.67 - User-Agent: sqlmap/1.7\n2024-12-26 10:00:58 GET /products?id=456 HTTP/1.1 - 200 OK - 0.052s - 192.168.1.103 - User-Agent: Safari/17.0\n2024-12-26 10:01:12 POST /api/register HTTP/1.1 - 201 Created - 0.456s - 192.168.1.104 - User-Agent: Chrome/120.0\n2024-12-26 10:01:29 GET /products?category=electronics HTTP/1.1 - 200 OK - 0.123s - 192.168.1.105 - User-Agent: Edge/120.0\n2024-12-26 10:01:44 GET /search?q=phone HTTP/1.1 - 200 OK - 0.078s - 192.168.1.106 - User-Agent: Opera/105.0\n2024-12-26 10:02:01 GET /api/products?id=1' UNION SELECT * FROM users-- HTTP/1.1 - 400 Bad Request - 0.015s - 45.123.45.67 - User-Agent: sqlmap/1.7\n2024-12-26 10:02:18 GET /cart HTTP/1.1 - 200 OK - 0.091s - 192.168.1.107 - User-Agent: Chrome/120.0\n2024-12-26 10:02:35 POST /api/checkout HTTP/1.1 - 200 OK - 0.567s - 192.168.1.108 - User-Agent: Safari/17.0\n2024-12-26 10:02:52 GET /orders?user=admin'-- HTTP/1.1 - 400 Bad Request - 0.018s - 45.123.45.68 - User-Agent: havij\n2024-12-26 10:03:09 GET /products?id=789 HTTP/1.1 - 200 OK - 0.048s - 192.168.1.109 - User-Agent: Firefox/121.0\n2024-12-26 10:03:26 GET /search?q=tablet HTTP/1.1 - 200 OK - 0.082s - 192.168.1.110 - User-Agent: Chrome/120.0\n2024-12-26 10:03:43 POST /api/login HTTP/1.1 - 200 OK - 0.201s - 192.168.1.111 - User-Agent: Postman/10.0\n2024-12-26 10:04:00 GET /products?id=999 HTTP/1.1 - 200 OK - 0.055s - 192.168.1.112 - User-Agent: curl/8.0\n2024-12-26 10:04:17 GET /api/orders?user_id=5; DROP TABLE users; HTTP/1.1 - 400 Bad Request - 0.009s - 45.123.45.69 - User-Agent: sqlmap/1.7\n2024-12-26 10:04:34 GET /profile HTTP/1.1 - 200 OK - 0.098s - 192.168.1.113 - User-Agent: Safari/17.0\n2024-12-26 10:04:51 POST /api/settings HTTP/1.1 - 200 OK - 0.187s - 192.168.1.114 - User-Agent: Chrome/120.0\n2024-12-26 10:05:08 GET /search?q=monitor HTTP/1.1 - 200 OK - 0.076s - 192.168.1.115 - User-Agent: Firefox/121.0\n2024-12-26 10:05:25 GET /api/data?filter=name LIKE '%admin%' OR '1'='1 HTTP/1.1 - 400 Bad Request - 0.021s - 45.123.45.70 - User-Agent: sqlninja\n2024-12-26 10:05:42 GET /products?id=111 HTTP/1.1 - 200 OK - 0.044s - 192.168.1.116 - User-Agent: Edge/120.0\n2024-12-26 10:05:59 GET /categories HTTP/1.1 - 200 OK - 0.067s - 192.168.1.117 - User-Agent: Opera/105.0\n2024-12-26 10:06:16 POST /api/reviews HTTP/1.1 - 201 Created - 0.234s - 192.168.1.118 - User-Agent: Chrome/120.0\n2024-12-26 10:06:33 GET /search?q=keyboard HTTP/1.1 - 200 OK - 0.085s - 192.168.1.119 - User-Agent: Safari/17.0\n2024-12-26 10:06:50 GET /api/search?term=test'; DELETE FROM products WHERE '1'='1 HTTP/1.1 - 400 Bad Request - 0.014s - 45.123.45.71 - User-Agent: sqlmap/1.7\n2024-12-26 10:07:07 GET /wishlist HTTP/1.1 - 200 OK - 0.092s - 192.168.1.120 - User-Agent: Firefox/121.0\n2024-12-26 10:07:24 POST /api/contact HTTP/1.1 - 200 OK - 0.312s - 192.168.1.121 - User-Agent: Chrome/120.0\n2024-12-26 10:07:41 GET /products?id=222 HTTP/1.1 - 200 OK - 0.049s - 192.168.1.122 - User-Agent: Edge/120.0\n2024-12-26 10:07:58 GET /about HTTP/1.1 - 200 OK - 0.034s - 192.168.1.123 - User-Agent: Safari/17.0\n2024-12-26 10:08:15 GET /api/config?key=debug' AND '1'='1' UNION SELECT password FROM admins-- HTTP/1.1 - 400 Bad Request - 0.017s - 45.123.45.72 - User-Agent: sqlninja\n2024-12-26 10:08:32 GET /search?q=mouse HTTP/1.1 - 200 OK - 0.079s - 192.168.1.124 - User-Agent: Opera/105.0\n2024-12-26 10:08:49 GET /products?id=333 HTTP/1.1 - 200 OK - 0.051s - 192.168.1.125 - User-Agent: Chrome/120.0\n2024-12-26 10:09:06 POST /api/newsletter HTTP/1.1 - 200 OK - 0.145s - 192.168.1.126 - User-Agent: Firefox/121.0\n2024-12-26 10:09:23 GET /faq HTTP/1.1 - 200 OK - 0.042s - 192.168.1.127 - User-Agent: Safari/17.0\n2024-12-26 10:09:40 GET /api/users?email=test@example.com' OR 'a'='a HTTP/1.1 - 400 Bad Request - 0.019s - 45.123.45.73 - User-Agent: havij\n2024-12-26 10:09:57 GET /products?id=444 HTTP/1.1 - 200 OK - 0.047s - 192.168.1.128 - User-Agent: Edge/120.0\n2024-12-26 10:10:14 GET /search?q=headphones HTTP/1.1 - 200 OK - 0.081s - 192.168.1.129 - User-Agent: Chrome/120.0\n2024-12-26 10:10:31 POST /api/feedback HTTP/1.1 - 201 Created - 0.289s - 192.168.1.130 - User-Agent: Safari/17.0\n2024-12-26 10:10:48 GET /privacy HTTP/1.1 - 200 OK - 0.038s - 192.168.1.131 - User-Agent: Firefox/121.0\n2024-12-26 10:11:05 GET /api/logs?date=2024-01-01' UNION SELECT username,password FROM accounts-- HTTP/1.1 - 400 Bad Request - 0.013s - 45.123.45.74 - User-Agent: sqlmap/1.7\n2024-12-26 10:11:22 GET /products?id=555 HTTP/1.1 - 200 OK - 0.053s - 192.168.1.132 - User-Agent: Opera/105.0\n2024-12-26 10:11:39 GET /blog HTTP/1.1 - 200 OK - 0.095s - 192.168.1.133 - User-Agent: Chrome/120.0\n2024-12-26 10:11:56 POST /api/comment HTTP/1.1 - 201 Created - 0.267s - 192.168.1.134 - User-Agent: Safari/17.0\n2024-12-26 10:12:13 GET /search?q=webcam HTTP/1.1 - 200 OK - 0.083s - 192.168.1.135 - User-Agent: Firefox/121.0\n2024-12-26 10:12:30 GET /api/export?format=csv'; UPDATE users SET role='admin' WHERE id=1-- HTTP/1.1 - 400 Bad Request - 0.016s - 45.123.45.75 - User-Agent: sqlninja\n2024-12-26 10:12:47 GET /products?id=666 HTTP/1.1 - 200 OK - 0.046s - 192.168.1.136 - User-Agent: Edge/120.0\n2024-12-26 10:13:04 GET /terms HTTP/1.1 - 200 OK - 0.036s - 192.168.1.137 - User-Agent: Safari/17.0\n2024-12-26 10:13:21 POST /api/subscribe HTTP/1.1 - 200 OK - 0.156s - 192.168.1.138 - User-Agent: Chrome/120.0\n2024-12-26 10:13:38 GET /support HTTP/1.1 - 200 OK - 0.071s - 192.168.1.139 - User-Agent: Opera/105.0\n2024-12-26 10:13:55 GET /api/query?sql=SELECT * FROM orders WHERE id=1 OR 1=1-- HTTP/1.1 - 400 Bad Request - 0.011s - 45.123.45.76 - User-Agent: havij\n2024-12-26 10:14:12 GET /products?id=777 HTTP/1.1 - 200 OK - 0.050s - 192.168.1.140 - User-Agent: Firefox/121.0\n2024-12-26 10:14:29 GET /search?q=speaker HTTP/1.1 - 200 OK - 0.077s - 192.168.1.141 - User-Agent: Safari/17.0\n2024-12-26 10:14:46 POST /api/upload HTTP/1.1 - 201 Created - 0.789s - 192.168.1.142 - User-Agent: Chrome/120.0\n2024-12-26 10:15:03 GET /gallery HTTP/1.1 - 200 OK - 0.123s - 192.168.1.143 - User-Agent: Edge/120.0\n2024-12-26 10:15:20 GET /api/admin?action=list' AND 1=0 UNION SELECT table_name FROM information_schema.tables-- HTTP/1.1 - 400 Bad Request - 0.020s - 45.123.45.77 - User-Agent: sqlmap/1.7\n2024-12-26 10:15:37 GET /products?id=888 HTTP/1.1 - 200 OK - 0.048s - 192.168.1.144 - User-Agent: Opera/105.0\n2024-12-26 10:15:54 GET /search?q=camera HTTP/1.1 - 200 OK - 0.084s - 192.168.1.145 - User-Agent: Chrome/120.0\n2024-12-26 10:16:11 POST /api/rate HTTP/1.1 - 200 OK - 0.198s - 192.168.1.146 - User-Agent: Safari/17.0\n2024-12-26 10:16:28 GET /deals HTTP/1.1 - 200 OK - 0.091s - 192.168.1.147 - User-Agent: Firefox/121.0\n2024-12-26 10:16:45 GET /api/report?type=sales' UNION SELECT credit_card FROM payments-- HTTP/1.1 - 400 Bad Request - 0.015s - 45.123.45.78 - User-Agent: sqlninja\n2024-12-26 10:17:02 GET /products?id=999 HTTP/1.1 - 200 OK - 0.052s - 192.168.1.148 - User-Agent: Edge/120.0\n2024-12-26 10:17:19 GET /compare HTTP/1.1 - 200 OK - 0.087s - 192.168.1.149 - User-Agent: Chrome/120.0\n2024-12-26 10:17:36 POST /api/vote HTTP/1.1 - 200 OK - 0.134s - 192.168.1.150 - User-Agent: Safari/17.0\n2024-12-26 10:17:53 GET /brands HTTP/1.1 - 200 OK - 0.068s - 192.168.1.151 - User-Agent: Opera/105.0\n2024-12-26 10:18:10 GET /api/stats?period=month'; DROP DATABASE production-- HTTP/1.1 - 400 Bad Request - 0.009s - 45.123.45.79 - User-Agent: havij\n2024-12-26 10:18:27 GET /products?id=101 HTTP/1.1 - 200 OK - 0.045s - 192.168.1.152 - User-Agent: Firefox/121.0\n2024-12-26 10:18:44 GET /search?q=charger HTTP/1.1 - 200 OK - 0.079s - 192.168.1.153 - User-Agent: Chrome/120.0\n2024-12-26 10:19:01 POST /api/bookmark HTTP/1.1 - 201 Created - 0.167s - 192.168.1.154 - User-Agent: Safari/17.0\n2024-12-26 10:19:18 GET /stores HTTP/1.1 - 200 OK - 0.093s - 192.168.1.155 - User-Agent: Edge/120.0\n2024-12-26 10:19:35 GET /api/inventory?location=warehouse' OR admin=true-- HTTP/1.1 - 400 Bad Request - 0.018s - 45.123.45.80 - User-Agent: sqlmap/1.7\n2024-12-26 10:19:52 GET /products?id=202 HTTP/1.1 - 200 OK - 0.051s - 192.168.1.156 - User-Agent: Opera/105.0\n2024-12-26 10:20:09 GET /new-arrivals HTTP/1.1 - 200 OK - 0.112s - 192.168.1.157 - User-Agent: Chrome/120.0\n2024-12-26 10:20:26 POST /api/share HTTP/1.1 - 200 OK - 0.143s - 192.168.1.158 - User-Agent: Safari/17.0\n2024-12-26 10:20:43 GET /careers HTTP/1.1 - 200 OK - 0.074s - 192.168.1.159 - User-Agent: Firefox/121.0\n2024-12-26 10:21:00 GET /api/batch?ids=1,2,3 UNION SELECT * FROM admin_users WHERE '1'='1-- HTTP/1.1 - 400 Bad Request - 0.022s - 45.123.45.81 - User-Agent: sqlninja\n2024-12-26 10:21:17 GET /products?id=303 HTTP/1.1 - 200 OK - 0.049s - 192.168.1.160 - User-Agent: Edge/120.0\n2024-12-26 10:21:34 GET /bestsellers HTTP/1.1 - 200 OK - 0.098s - 192.168.1.161 - User-Agent: Chrome/120.0\n2024-12-26 10:21:51 POST /api/flag HTTP/1.1 - 200 OK - 0.121s - 192.168.1.162 - User-Agent: Safari/17.0\n2024-12-26 10:22:08 GET /locations HTTP/1.1 - 200 OK - 0.086s - 192.168.1.163 - User-Agent: Opera/105.0\n2024-12-26 10:22:25 GET /api/metrics?filter=revenue'; EXEC sp_executesql @cmd-- HTTP/1.1 - 400 Bad Request - 0.014s - 45.123.45.82 - User-Agent: havij\n2024-12-26 10:22:42 GET /products?id=404 HTTP/1.1 - 200 OK - 0.047s - 192.168.1.164 - User-Agent: Firefox/121.0\n2024-12-26 10:22:59 GET /clearance HTTP/1.1 - 200 OK - 0.104s - 192.168.1.165 - User-Agent: Chrome/120.0\n2024-12-26 10:23:16 POST /api/remind HTTP/1.1 - 200 OK - 0.189s - 192.168.1.166 - User-Agent: Safari/17.0\n2024-12-26 10:23:33 GET /partnerships HTTP/1.1 - 200 OK - 0.071s - 192.168.1.167 - User-Agent: Edge/120.0\n2024-12-26 10:23:50 GET /api/sessions?user=john' AND SLEEP(10)-- HTTP/1.1 - 400 Bad Request - 0.011s - 45.123.45.83 - User-Agent: sqlmap/1.7\n2024-12-26 10:24:07 GET /products?id=505 HTTP/1.1 - 200 OK - 0.053s - 192.168.1.168 - User-Agent: Opera/105.0\n2024-12-26 10:24:24 GET /featured HTTP/1.1 - 200 OK - 0.097s - 192.168.1.169 - User-Agent: Chrome/120.0\n2024-12-26 10:24:41 POST /api/archive HTTP/1.1 - 200 OK - 0.234s - 192.168.1.170 - User-Agent: Safari/17.0\n2024-12-26 10:24:58 GET /press HTTP/1.1 - 200 OK - 0.065s - 192.168.1.171 - User-Agent: Firefox/121.0\n2024-12-26 10:25:15 GET /api/debug?cmd=cat /etc/passwd; SELECT * FROM users-- HTTP/1.1 - 400 Bad Request - 0.008s - 45.123.45.84 - User-Agent: sqlninja\n\nProvide a comprehensive list of all SQL injection attempts including timestamp, source IP, and injection payload:",
      "max_tokens": 300,
      "category": "pattern_extraction",
      "estimated_input_tokens": 8000,
      "actual_input_tokens": 8041
    }
  ]
}